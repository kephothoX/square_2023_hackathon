<app-header></app-header>

<section>
  <table mat-table [dataSource]="invoices" class="mat-elevation-z8" *ngIf="invoices">

    <ng-container matColumnDef="invoice_number">
      <th mat-header-cell *matHeaderCellDef> Invoice NO. </th>
      <td mat-cell *matCellDef="let element" class="text-warn"> {{ element.invoice_number }} </td>
    </ng-container>

    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef> Title </th>
      <td mat-cell *matCellDef="let element"> {{ element.title }} </td>
    </ng-container>

    <ng-container matColumnDef="created_at">
      <th mat-header-cell *matHeaderCellDef> Date Sent  </th>
      <td mat-cell *matCellDef="let element"> {{ element.created_at | date }} </td>
    </ng-container>

    <ng-container matColumnDef="subscription_amount">
      <th mat-header-cell *matHeaderCellDef>Subscription Amount</th>
      <td mat-cell *matCellDef="let element" class="text-primary"> {{ element.payment_requests[0].computed_amount_money.amount }} </td>
    </ng-container>

    <ng-container matColumnDef="amount_paid">
      <th mat-header-cell *matHeaderCellDef> Amount Paid</th>
      <td mat-cell *matCellDef="let element" class="text-primary"> {{ element.payment_requests[0].total_completed_amount_money.amount }} </td>
    </ng-container>

    <ng-container matColumnDef="due_date">
      <th mat-header-cell *matHeaderCellDef> Due Date </th>
      <td mat-cell *matCellDef="let element"> {{ element.payment_requests[0].due_date }} </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef> Status </th>
      <td mat-cell *matCellDef="let element" class="text-warn"> {{ element.status }} </td>
    </ng-container>

    <ng-container matColumnDef="public_url">
      <th mat-header-cell *matHeaderCellDef> Link </th>
      <td mat-cell *matCellDef="let element"><a href="{{ element.public_url }}">Open Invoice</a> </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

  </table>


  <mat-card *ngIf="!invoices">
    <mat-card-title>
      <h2>You Have No Pending Invoices</h2>
    </mat-card-title>
  </mat-card>
</section>
